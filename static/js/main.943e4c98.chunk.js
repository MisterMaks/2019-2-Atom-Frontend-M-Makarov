(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{25:function(e,t,a){e.exports=a(38)},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(21),i=a.n(n),o=a(10),m=a(11),s=a(13),l=a(12),h=a(14),d=a(18),u=a(24),p=a(5),g=a(8),y=a(6);a(30),a(31);function w(e){var t="";return e.geoIconURL&&(t=c.a.createElement("img",{src:e.geoIconURL,alt:e.geoIconURL})),c.a.createElement(g.b,{to:"/"+e.cityName},c.a.createElement("div",{className:"weatherBox_place",onClick:function(a){e.goToWeatherCityPage(a,e.cityName,e.cityID,e.temperature,e.iconURL,t)}},c.a.createElement("div",{className:"weatherBox"},c.a.createElement("div",{className:"city"},c.a.createElement("div",{className:"nameLocation"},e.cityName),t),c.a.createElement("div",{className:"weatherElements"},c.a.createElement("div",{className:"weatherPNG"},c.a.createElement("img",{id:"weatherPNG",src:e.iconURL,alt:e.iconURL})),c.a.createElement("div",{className:"weatherTemperature"},e.temperature,"\xb0\u0421"),c.a.createElement("div",{className:"nextButton"},c.a.createElement("img",{id:"nextButton",src:"https://c7.uihere.com/icons/590/660/27/next-page-9a0d550fe96e918794194d7470bc2f93.png",alt:"https://c7.uihere.com/icons/590/660/27/next-page-9a0d550fe96e918794194d7470bc2f93.png"}))))))}function N(e){var t=e.cities,a="";return e.locationCityName&&(a=c.a.createElement(w,{cityName:e.locationCityName,cityID:e.locationID,temperature:e.locationTemperature,iconURL:e.locationIconURL,geoIconURL:"https://userscontent2.emaze.com/images/9e7c6f79-e952-4ea8-bb31-cf6c22458724/d05b181d-5b16-4739-a0ff-f8bcfb65c5c5.png",goToWeatherCityPage:e.goToWeatherCityPage})),c.a.createElement("div",{className:"manageCities_place"},c.a.createElement("div",{className:"manageCities_header"},c.a.createElement("div",{className:"backButton"}),c.a.createElement("div",{className:"manageCities"},"Manage cities"),c.a.createElement("div",{className:"writeButton"})),c.a.createElement("div",{className:"weatherContent"},c.a.createElement("div",{className:"weatherWrap"},a,t.map((function(t){return c.a.createElement(w,{key:t.id,cityID:t.id,cityName:t.name,temperature:t.temperature,iconURL:t.iconURL,goToWeatherCityPage:e.goToWeatherCityPage,getWeatherForecastForThreeDays:e.getWeatherForecastForThreeDays})})))),c.a.createElement("div",{className:"newButton_place"},c.a.createElement("div",{className:"newButton",onClick:e.addCity})))}a(37);function v(e){var t=e.tomorrow.temperature,a=e.tomorrow.weatherIconURL,r=e.dayAfterTomorrow.temperature,n=e.dayAfterTomorrow.weatherIconURL,i=e.thirdDay.temperature,o=e.thirdDay.weatherIconURL,m="",s="https://userscontent2.emaze.com/images/9e7c6f79-e952-4ea8-bb31-cf6c22458724/d05b181d-5b16-4739-a0ff-f8bcfb65c5c5.png";return e.geo&&(m=c.a.createElement("img",{id:"geo",src:s,alt:s})),c.a.createElement("div",{className:"weatherCityPage_place"},c.a.createElement("div",{className:"header"},c.a.createElement(g.b,{to:"/"},c.a.createElement("div",{className:"backButton"})),c.a.createElement("div",{className:"headerName"},"Weather in the city"),c.a.createElement("div",{className:"something"})),c.a.createElement("div",{className:"cityName_and_currentIconURL_and_currentTemperature"},c.a.createElement("div",{className:"city_and_geo"},c.a.createElement("div",{className:"cityName"},e.cityName),m),c.a.createElement("div",{className:"currentWeatherPNG_and_currentTemperature"},c.a.createElement("div",{className:"currentWeatherPNG"},c.a.createElement("img",{id:"currentWeatherIcon",src:e.currentIconURL,alt:e.currentIconURL})),c.a.createElement("div",{className:"currentTemperature"},e.currentTemperature))),c.a.createElement("div",{className:"weatherForecastForThreeDays"},c.a.createElement("div",{className:"weatherForecastBox"},c.a.createElement("div",{className:"day"},"Tomorrow"),c.a.createElement("div",{className:"weatherPNG_and_temperature"},c.a.createElement("div",{className:"weatherPNG"},c.a.createElement("img",{id:"weatherIcon",src:a,alt:a})),c.a.createElement("div",{className:"temperature"},t,"\xb0\u0421"))),c.a.createElement("div",{className:"weatherForecastBox"},c.a.createElement("div",{className:"day"},"Day after tomorrow"),c.a.createElement("div",{className:"weatherPNG_and_temperature"},c.a.createElement("div",{className:"weatherPNG"},c.a.createElement("img",{id:"weatherIcon",src:n,alt:n})),c.a.createElement("div",{className:"temperature"},r,"\xb0\u0421"))),c.a.createElement("div",{className:"weatherForecastBox"},c.a.createElement("div",{className:"day"},"Third day"),c.a.createElement("div",{className:"weatherPNG_and_temperature"},c.a.createElement("div",{className:"weatherPNG"},c.a.createElement("img",{id:"weatherIcon",src:o,alt:o})),c.a.createElement("div",{className:"temperature"},i,"\xb0\u0421")))))}var E=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).getGeolocation=a.getGeolocation.bind(Object(p.a)(a)),a.getWeatherFromGeolocation=a.getWeatherFromGeolocation.bind(Object(p.a)(a)),a.getWeatherFromCityName=a.getWeatherFromCityName.bind(Object(p.a)(a)),a.getWeatherFromID=a.getWeatherFromID.bind(Object(p.a)(a)),a.addCity=a.addCity.bind(Object(p.a)(a)),a.goToWeatherCityPage=a.goToWeatherCityPage.bind(Object(p.a)(a)),a.cities=[{id:524901,name:"Moscow",temperature:"",iconURL:""},{id:498817,name:"Saint Petersburg",temperature:"",iconURL:""},{id:6356055,name:"Barcelona",temperature:"",iconURL:""},{id:3067696,name:"Prague",temperature:"",iconURL:""},{id:3054643,name:"Budapest",temperature:"",iconURL:""},{id:5128581,name:"New York",temperature:"",iconURL:""},{id:5368361,name:"Los Angeles",temperature:"",iconURL:""},{id:5391959,name:"San Francisco",temperature:"",iconURL:""},{id:6455259,name:"Paris",temperature:"",iconURL:""},{id:2761369,name:"Vienna",temperature:"",iconURL:""}];for(var r=0;r<a.cities.length;r=1+r)a.getWeatherFromID(a.cities[r].id);return a.state={location:"",locationID:"",locationTemperature:"",locationIconURL:"",cities:[],selectedCityData:{link:"",cityID:"",cityName:"",currentTemperature:"",currentIconURL:"",geo:""},tomorrow:[],dayAfterTomorrow:[],thirdDay:[]},a.getGeolocation(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getGeolocation",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){var a=t.coords.latitude,r=t.coords.longitude;e.setState({location:[a.toString(),r.toString()]}),e.getWeatherFromGeolocation()}))}},{key:"getWeatherFromGeolocation",value:function(){var e=this,t=Object(u.a)(this.state.location,2),a=t[0],r=t[1];fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(a,"&lon=").concat(r,"&units=metric&APPID=22974c3e3aacf49aa6ed8191ccca8d39"),{headers:{origin:document.origin},method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({location:t.name,locationID:t.id,locationTemperature:t.main.temp,locationIconURL:"https://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png")})}))}},{key:"getWeatherFromCityName",value:function(e,t){var a=this;fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&units=metric&APPID=22974c3e3aacf49aa6ed8191ccca8d39"),{headers:{origin:document.origin},method:"GET"}).then((function(e){return e.json()})).then((function(e){var t={id:e.id,name:e.name,temperature:e.main.temp,iconURL:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png")};a.setState({cities:[].concat(Object(d.a)(a.state.cities),[t])})})),e.preventDefault()}},{key:"getWeatherFromID",value:function(e){var t=this;fetch("https://api.openweathermap.org/data/2.5/weather?id=".concat(e,"&units=metric&APPID=22974c3e3aacf49aa6ed8191ccca8d39"),{headers:{origin:document.origin},method:"GET"}).then((function(e){return e.json()})).then((function(a){var r=a.name,c=a.main.temp,n="https://openweathermap.org/img/wn/".concat(a.weather[0].icon,"@2x.png"),i={id:e,name:r,temperature:c,iconURL:n};t.setState({cities:[].concat(Object(d.a)(t.state.cities),[i])})}))}},{key:"addCity",value:function(e){var t=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430","Washington");if(t){for(var a=0;a<this.cities.length;a+=1)if(this.cities[a].name===t)return alert("\u0422\u0430\u043a\u043e\u0439 \u0433\u043e\u0440\u043e\u0434 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435"),null;this.getWeatherFromCityName(e,t)}}},{key:"goToWeatherCityPage",value:function(e,t,a,r,c,n){var i=this;fetch("https://api.openweathermap.org/data/2.5/forecast?id=".concat(a,"&units=metric&APPID=22974c3e3aacf49aa6ed8191ccca8d39"),{headers:{origin:document.origin},method:"GET"}).then((function(e){return e.json()})).then((function(e){var o=e.list,m={temperature:o[8].main.temp,weatherIconURL:"https://openweathermap.org/img/wn/".concat(o[8].weather[0].icon,"@2x.png")},s={temperature:o[16].main.temp,weatherIconURL:"https://openweathermap.org/img/wn/".concat(o[16].weather[0].icon,"@2x.png")},l={temperature:o[24].main.temp,weatherIconURL:"https://openweathermap.org/img/wn/".concat(o[24].weather[0].icon,"@2x.png")};i.setState({tomorrow:m,dayAfterTomorrow:s,thirdDay:l,selectedCityData:{link:t,cityID:a,cityName:t,currentTemperature:r,currentIconURL:c,geo:n}})}))}},{key:"render",value:function(){return c.a.createElement(g.a,{basename:""},c.a.createElement(c.a.Fragment,null,c.a.createElement(y.c,null,c.a.createElement(y.a,{exact:!0,path:"/"},c.a.createElement(N,{cities:this.state.cities,locationCityName:this.state.location,locationID:this.state.locationID,locationTemperature:this.state.locationTemperature,locationIconURL:this.state.locationIconURL,addCity:this.addCity,goToWeatherCityPage:this.goToWeatherCityPage})),c.a.createElement(y.a,{path:"/"+this.state.selectedCityData.link},c.a.createElement(v,{cityID:this.state.selectedCityData.cityID,cityName:this.state.selectedCityData.cityName,currentTemperature:this.state.selectedCityData.currentTemperature,currentIconURL:this.state.selectedCityData.currentIconURL,geo:this.state.selectedCityData.geo,tomorrow:this.state.tomorrow,dayAfterTomorrow:this.state.dayAfterTomorrow,thirdDay:this.state.thirdDay})))))}}]),t}(r.Component),f=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{style:{height:"100%"}},c.a.createElement(E,null))}}]),t}(r.Component);i.a.render(c.a.createElement(c.a.Fragment,null,c.a.createElement(f,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.943e4c98.chunk.js.map